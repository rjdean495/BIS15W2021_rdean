---
title: "Final Project Data"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(janitor)
library(here)
library(naniar)
``` 

```{r}
crosssec<-readr::read_csv("~/Desktop/BIS15W2021_rdean/Final Project Data/oasis_cross-sectional.csv")
```
```{r}
longitudinal<-read_csv("~/Desktop/BIS15W2021_rdean/Final Project Data/oasis_longitudinal.csv")
```
```{r}
glimpse(crosssec)
```
```{r}
summary(crosssec)
```
```{r}
cross<-clean_names(crosssec)
cross
```
```{r}
longitudinal<-clean_names(longitudinal)
summary(longitudinal)
```
```{r}
newlong<-longitudinal %>% 
  mutate(agerange_category=case_when(age>60 & age<=70 ~ "young",
                                  age>70 & age<=85 ~ "middle",
                                  age>85 & age<=99 ~ "old")) %>% 
  mutate(brainwght_category=case_when(n_wbv<=.65~"low",
                                      n_wbv>.65&n_wbv<=.7~"low medium",
                                      n_wbv>.7&n_wbv<=.75~"medium",
                                      n_wbv>.75~"high"))
```
```{r}
longitudinal
```

```{r}
longitudinal %>% 
  filter(group=="Demented") %>% 
  group_by(ses) %>% 
  summarize(mean.age=mean(age)) %>%
  ggplot(aes(x=ses,y=mean.age))+
  geom_col()
```

